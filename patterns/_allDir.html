<!--
    DNT SOFTWARE 2023
    Lite Cloud implementation
    GENERATION = 1
-->

<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>FSS — |#PATH|</title>
    <link rel='stylesheet' href='static/style.css'>
    <link rel="icon" type="image/ico" href="static/favicon.ico"/>
</head>

<body onload="hidePR()">
    <div class='preload' id='pr'>
        <img src='static/logo.webp' class='pr-logo' alt="">
    </div>
    <div class='wrapper'>
        <div class='left'>
            <div class='left-logo' onclick = "navTo('upload')">
                <h1 class='left-app-name'>FSS</h1>
                <h4 class='left-app-desc'>Fast Save Storage</h4>
            </div>
            <div class='left-controls'>
                <div class='control' onclick = "navTo('upload')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class='cbg inc'>
                        <g class='cbgg inc' fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                            <path d="M12 12v9m0-9l-2.5 2m2.5-2l2.5 2M5.034 9.117A4.002 4.002 0 0 0 6 17h1" />
                            <path d="M15.83 7.138a5.5 5.5 0 0 0-10.796 1.98S5.187 10 5.5 10.5" />
                            <path d="M17 17a5 5 0 1 0-1.17-9.862L14.5 7.5" />
                        </g>
                    </svg>
                    <h2 class='cc-text inc'>Загрузить файл</h2>
                </div>
                <div class='control' onclick = "navTo('download')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class='cbg inc'>
                        <g class='cbgg inc' fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                            <path d="M12 22v-9m0 9l-2.5-2m2.5 2l2.5-2M5.034 9.117A4.002 4.002 0 0 0 6 17h1" />
                            <path d="M15.83 7.138a5.5 5.5 0 0 0-10.796 1.98S5.187 10 5.5 10.5" />
                            <path d="M17 17a5 5 0 1 0-1.17-9.862L14.5 7.5" />
                        </g>
                    </svg>
                    <h2 class='cc-text inc'>Скачать файл</h2>
                </div>
                <div class='control' onclick = "navTo('all')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class='cbg'>
                        <g class='cbgg' fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                            <rect width="7" height="7" x="3" y="3" rx="1" />
                            <rect width="7" height="7" x="3" y="14" rx="1" />
                            <rect width="7" height="7" x="14" y="3" rx="1" />
                            <rect width="7" height="7" x="14" y="14" rx="1" />
                        </g>
                    </svg>
                    <h2 class='cc-text'>Всё файлы</h2>
                </div>
            </div>
            <h4 class='dev-info'>DNT SOFTWARE | 2023 | Vβ: |#APPVER| (|#APPVERDATE|)<br>VK: @tsmc0 / TG: @tsmc0</h4>
        </div>
        <div class='content alf'>
            <div class='content-head cha'>
                <div class = 'path'><h1 class='cht'>Все файлы</h1><h4 class = 'all-path' id = 'path'>|#PATH|</h4></div>
                <div class='storage-info'>
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class='upl'>
                        <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class='uplg'>
                            <path d="M5.034 11.117A4.002 4.002 0 0 0 6 19h11a5 5 0 1 0-1.17-9.862L14.5 9.5" />
                            <path d="M15.83 9.138a5.5 5.5 0 0 0-10.796 1.98S5.187 12 5.5 12.5" />
                        </g>
                    </svg>
                    <div class='st-text'>
                        <h2 class='stn'>Хранилище данных</h2>
                        <h2 class='sts'>Свободно |#FREE| из |#TOTAL|</h2>
                    </div>
                </div>
            </div>
            <div class='methods'>
                <div class='card' onclick = "navTo('text-editor')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class='editb' style = 'padding:10px;'>
                        <path class='editbb' fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"
                            d="M12 20v-8m0 0V4m0 8h8m-8 0H4" />
                    </svg>
                    <h4 class='carxt'>Создать заметку</h4>
                </div>
                <div class='card'  onclick = "navTo('make-dir')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"  class='catt'>
                        <g class='cat' fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2">
                            <path stroke-linejoin="round"
                                d="M22 19V9a2 2 0 0 0-2-2h-6.764a2 2 0 0 1-1.789-1.106l-.894-1.788A2 2 0 0 0 8.763 3H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z" />
                            <path d="M12 11v3m0 0v3m0-3h3m-3 0H9" />
                        </g>
                    </svg>
                    <h4 class='carxt'>Создать каталог</h4>
                </div>
            </div>
            <div id = 'asc' class='sclx'>
                <div class = 'all-wrap FIL'>
                    |#CARDS|
                </div> 
            </div>
        </div>
    </div>
</body>

</html>
<script src='static/jquery-3.6.1.min.js'></script>
<script src='static/jquery.form.min.js'></script>
<script src='static/jquery.min.js'></script>
<script>
    var dirID = |#DIRID|;

    function hidePR() {
        document.getElementById('pr').classList.add('fadeOut');
        
        document.getElementById('pr').addEventListener("animationend", function() {
            document.getElementById('pr').style.display = 'none';
        }, false);
    }

    function navTo(page){
        if(page == 'text-editor'){
            window.location.href = page + '?dest=' + dirID;
        } else if(page == 'make-dir'){
            window.location.href = page + '?dest=' + dirID;
        } else {
            window.location.href = page;
        }
    }
    
    function navToRe(page){
        window.location.replace(page);
    }

    function deauth() {
        var formData = new FormData();
                formData.append('method', 'deauth');  

        $.ajax({
            type: 'POST',
            url: 'api.php',
            cache: false,
            contentType: false,
            processData: false,
            data: formData,
            success: function(data){
                data = JSON.parse(data);
                
                if(data.code == 200){
                    navTo('cat?id=' + dirID);
                }
            }
        });
    }
</script>